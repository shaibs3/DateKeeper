#!/bin/bash

echo "üöÄ Vercel Environment Variables Setup Guide"
echo "==========================================="
echo ""

echo "üìç Where to Set Variables:"
echo "   ‚Üí Go to: https://vercel.com/dashboard"
echo "   ‚Üí Select your DateKeeper project"
echo "   ‚Üí Settings ‚Üí Environment Variables"
echo ""

echo "üéØ Required Environment Variables:"
echo ""

echo "üìä PRODUCTION Environment:"
echo "   Variable Name: DATABASE_URL"
echo "   Value: [Your Neon production connection string]"
echo "   Environment: Production"
echo ""
echo "   Variable Name: NEXTAUTH_SECRET"
echo "   Value: [Generate with: openssl rand -base64 32]"
echo "   Environment: Production"
echo ""
echo "   Variable Name: NEXTAUTH_URL"
echo "   Value: https://datekeeper.vercel.app"
echo "   Environment: Production"
echo ""
echo "   Variable Name: GOOGLE_CLIENT_ID"
echo "   Value: [Your production Google OAuth client ID]"
echo "   Environment: Production"
echo ""
echo "   Variable Name: GOOGLE_CLIENT_SECRET"
echo "   Value: [Your production Google OAuth client secret]"
echo "   Environment: Production"
echo ""
echo "   Variable Name: APP_ENV"
echo "   Value: production"
echo "   Environment: Production"
echo ""

echo "üß™ PREVIEW Environment (Staging):"
echo "   Variable Name: DATABASE_URL"
echo "   Value: [Your Neon staging connection string]"
echo "   Environment: Preview"
echo ""
echo "   Variable Name: NEXTAUTH_SECRET"
echo "   Value: [Different secret for staging]"
echo "   Environment: Preview"
echo ""
echo "   Variable Name: NEXTAUTH_URL"
echo "   Value: https://datekeeper-staging.vercel.app"
echo "   Environment: Preview"
echo ""
echo "   Variable Name: GOOGLE_CLIENT_ID"
echo "   Value: [Your staging Google OAuth client ID]"
echo "   Environment: Preview"
echo ""
echo "   Variable Name: GOOGLE_CLIENT_SECRET"
echo "   Value: [Your staging Google OAuth client secret]"
echo "   Environment: Preview"
echo ""
echo "   Variable Name: APP_ENV"
echo "   Value: staging"
echo "   Environment: Preview"
echo ""

echo "üîê Security Best Practices:"
echo "   ‚Üí Use different secrets for production and staging"
echo "   ‚Üí Use separate Google OAuth apps for each environment"
echo "   ‚Üí Use separate Neon databases/branches for each environment"
echo "   ‚Üí Never commit secrets to Git"
echo ""

echo "üõ†Ô∏è How to Generate NEXTAUTH_SECRET:"
echo "   Method 1: openssl rand -base64 32"
echo "   Method 2: https://generate-secret.vercel.app/32"
echo "   Method 3: node -e \"console.log(require('crypto').randomBytes(32).toString('base64'))\""
echo ""

echo "üìã Vercel Environment Types:"
echo "   ‚Üí Production: Used for your main domain (datekeeper.vercel.app)"
echo "   ‚Üí Preview: Used for staging and PR deployments"
echo "   ‚Üí Development: Used for local development (not needed for this setup)"
echo ""

echo "‚úÖ Verification Steps:"
echo "   1. Add all variables in Vercel Dashboard"
echo "   2. Deploy your app (push to main branch)"
echo "   3. Check deployment logs for successful database connection"
echo "   4. Test authentication on your deployed app"
echo "   5. Verify database operations work"
echo ""

echo "üîß Troubleshooting:"
echo "   ‚Üí If variables don't appear: Wait 1-2 minutes and redeploy"
echo "   ‚Üí If database connection fails: Check DATABASE_URL format"
echo "   ‚Üí If auth fails: Verify NEXTAUTH_SECRET and Google OAuth settings"
echo "   ‚Üí If wrong environment: Check environment selection in Vercel"
echo ""

echo "üéâ Once complete, your app will have:"
echo "   ‚Üí Database connectivity in production and staging"
echo "   ‚Üí Working authentication with Google OAuth"
echo "   ‚Üí Proper environment separation"
echo "   ‚Üí Secure secret management"
echo ""

echo "üöÄ Ready to set up your Vercel environment variables!"
